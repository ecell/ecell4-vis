=======================
使い方
=======================

起動
===========

コマンドラインインタプリタで、 app.py を実行します。

::

        $ python ec4vis/app.py

起動すると、メインウィンドウが表示されます。


終了
==========

メニューの「Quit」を選ぶか、メインウィンドウを閉じると終了します。


メインウィンドウ
======================

メインウィンドウの構成は、以下のようになっています。

::

      +------------+------------+-----------+
      |            |            |           |
      | Datasource |            |           |
      | Panel      |            |           |
      |            |            |           |
      +------------+ Visualizer | Inspector |
      |            | Panel      | Panel     |
      | Pipeline   |            |           |
      | Panel      |            |           |
      |            |            |           |
      +------------+------------+-----------+
      |            Console Panel            |
      +-------------------------------------+


データソースパネル
-------------------------

左上のデータソースパネルは、データソースの選択を行うためのパネルです。
データソースパネルは、タブページになっていて、複数のデータソースを切り替えられるようになっています。
起動時には、ファイルシステムデータソースのページが表示されています。

パイプラインパネル
--------------------------

左下のパイプラインパネルは、パイプラインの操作を行うためのパネルです。
パイプラインパネルには、パイプラインがツリービューで表示されます。


ビジュアライザパネル
--------------------------

中央のビジュアライザパネルは、ビジュアライザウィンドウを表示するための領域です。
パイプラインノードを選択してビジュアライザの表示操作を行うと、この領域にビジュアライザウィンドウが表示されます。
ビジュアライザパネルはタブページになっていて、複数のビジュアライザウィンドウを切り替えて表示できます。


インスペクタパネル
-----------------------

右側のインスペクタパネルは、インスペクタウィンドウを表示するための領域です。
パイプラインノードを選択してインスペクタの表示操作を行うと、この領域にインスペクタウィンドウが表示されます。
インスペクタパネルはタブページになっていて、複数のインスペクタウィンドウを切り替えて表示できます。


コンソールパネル
---------------------

下側のコンソールパネルは、ログメッセージを表示するための領域です。
ここには、デバッグメッセージなどの情報が表示されます。


メニュー
==============

ec4vis のメニュー階層は、以下のようになっています。

::


  App メニュー
    About                --- このアプリケーションのバージョン情報を表示します。
    Quit                 --- アプリケーションを終了します。

  Datasource メニュー
    Add...               --- データソースページの追加を行います。
    Remove               --- 選択中のデータソースページを削除します。
   
  Pipeline メニュー
    Add Node...          --- パイプラインにノードを追加します。


データソースの操作
=======================

追加
------------

起動時、データソースパネルには、ファイルシステムからデータソースを選択するためのページが表示されています。
プラグインなどで新たにデータソースを追加した場合には、データソースパネルに新たにデータソースページを追加できます。
データソースページを追加するには、メニューの「Datasource」から「Add...」を選択します。

パネルが表示され、利用できるデータソースの一覧が表示されるので、目的のデータソースを選択して、OKを押します。
このとき、データソースページに名前をつけたければ、Name 欄を編集します。

パネルに、データソースページが追加されます。

削除
---------

データソースページを削除するには、タブページ右上のクローズアイコンをクリックします。


状態の保存
--------------

アプリケーションを終了すると、そのときのデータソースページの状態が保存されます。
次回の起動時に、データソースページが復元されます。
データソースページの情報は、ホームディレクトリの .ec4vis/datasources.shelve.db ファイルに記録されています。
何らかの理由で、データソースページの状態をリセットしたいときには、 .ec4vis/datasources.shelve.db を削除してください。


パイプラインの操作
=======================

起動時、パイプラインパネルには、ツリーのルートノードを表す「<<datasource>>」が表示されています。

ノードの追加
-------------------

ノードを追加するには、親ノードにしたいノードをツリーから選んで、メニューの「Pipeline」->「Add node...」を選ぶか、ノードを右クリックして表示されるポップアップメニューで「Add...」を選びます。

パネルが表示され、選択中のノードに接続できるノードクラスの一覧が表示されるので、目的のノードクラスを選択して、OKを押します。
このとき、ノードに名前をつけたければ、Name欄を編集します。

ツリーに、ノードが追加されます。


ノードの削除
----------------

ノードを削除するには、削除したいノードをクリックで選択し、さらに右クリックしてポップアップメニューを表示し、「Delete」を選びます。
ノードに子ノードが連結されている場合、子ノードも再帰的に削除されます。


インスペクタの表示
-----------------------

ノードがインスペクタをサポートしている場合、インスペクタを表示できます。
インスペクタを表示するには、ノードをクリックで選択し、さらに右クリックしてポップアップメニューを表示します。
ノードがインスペクタをサポートしていれば、「Show Inspector」メニューが有効表示されるので、これを選択します。

インスペクタパネルに、インスペクタウィンドウが表示されます。


ビジュアライザの表示
-----------------------

ノードがビジュアライザをサポートしている場合、ビジュアライザを表示できます。
ビジュアライザを表示するには、ノードをクリックで選択し、さらに右クリックしてポップアップメニューを表示します。
ノードがビジュアライザをサポートしていれば、「Show Inspector」メニューが有効表示されるので、これを選択します。

ビジュアライザパネルに、ビジュアライザウィンドウが表示されます。


状態の保存
---------------

アプリケーションを終了すると、そのときのパイプラインの状態が保存されます。
この状態は、次回の起動時に復元されます。
パイプラインの情報は、ホームディレクトリの .ec4vis/pipeline.shelve.db ファイルに記録されています。
何らかの理由で、パイプラインツリーの状態をリセットしたいときには、 .ec4vis/pipeline.shelve.db ファイルを削除してください。


インスペクタの操作
========================

インスペクタパネルは、タブページ形式になっています。
パイプラインパネル上で、ノードの「Show Inspector」を選ぶと、そのノードに対応したインスペクタが表示されます。

インスペクタウィンドウを切り替えるときには、タブをクリックします。

インスペクタを閉じるときには、パネル右上に表示されているクローズアイコンをクリックします。

.. note::
   パイプラインツリー上でノードの情報が更新されると、子ノード全てに状態変更が通知されます。
   そのため、タブページ上にある全てのインスペクタに更新が通知され、再表示処理が行われることがあります。
   この処理の負荷が問題になる場合には、あらかじめ不要なインスペクタウィンドウを閉じて下さい。


ビジュアライザの操作
========================

ビジュアライザパネルは、タブページ形式になっています。
パイプラインパネル上で、ノードの「Show Visualizer」を選ぶと、そのノードに対応したビジュアライザが表示されます。

ビジュアライザウィンドウを切り替えるときには、タブをクリックします。

ビジュアライザを閉じるときには、パネル右上に表示されているクローズアイコンをクリックします。

.. note::
   パイプラインツリー上でノードの情報が更新されると、子ノード全てに状態変更が通知されます。
   そのため、タブページ上にある全てのビジュアライザに更新が通知され、再描画処理が行われることがあります。
   この処理の負荷が問題になる場合には、あらかじめ不要なビジュアライザウィンドウを閉じて下さい。
